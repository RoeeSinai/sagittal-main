import { Zone } from "../../../../../../src/general"
import { SagittalComma } from "../../../../../../src/sagittal"
import { getJiSymbol, Level } from "../../../../../../src/sagittal/notations/ji"
import { computeCaptureZone } from "../../../../../../src/sagittal/notations/ji/captureZone"
import { computeLevelJiSymbolIds } from "../../../../../../src/sagittal/notations/ji/levelsJiSymbolIds"

describe("capture zones", () => {
    it("Medium level capture zones check out", () => {
        const extremeLevelJiSymbolIds = computeLevelJiSymbolIds(Level.MEDIUM)

        const actual = extremeLevelJiSymbolIds.map(extremeLevelJiSymbolId => {
            const jiSymbol = getJiSymbol(extremeLevelJiSymbolId)

            return computeCaptureZone(jiSymbol, Level.MEDIUM)
        })

        const expected = [
            [0.000000000000000, 2.740244274567870],
            [2.740244274567870, 8.080207476289860],
            [8.080207476289860, 13.420170678011900],
            [13.420170678011900, 18.760133879733900],
            [18.760133879733900, 24.662198471110800],
            [24.662198471110800, 30.002161672832800],
            [30.002161672832800, 35.118091464366500],
            [35.118091464366500, 40.260512034035600],
            [40.260512034035600, 45.112497836531300],
            [45.112497836531300, 51.219540248855700],
            [51.219540248855700, 56.842503028856500],
            [56.842503028856500, 62.465465808856200],
            [62.465465808856200, 68.572508221180400],
        ] as Array<Zone<SagittalComma>>
        expect(actual).toEqual(expected)
    })

    it("High level capture zones check out", () => {
        const extremeLevelJiSymbolIds = computeLevelJiSymbolIds(Level.HIGH)

        const actual = extremeLevelJiSymbolIds.map(extremeLevelJiSymbolId => {
            const jiSymbol = getJiSymbol(extremeLevelJiSymbolId)

            return computeCaptureZone(jiSymbol, Level.HIGH)
        })

        const expected = [
            [0.000000000000000, 1.194465453016760],
            [1.194465453016760, 4.567073790946440],
            [4.567073790946440, 6.534428654738760],
            [6.534428654738760, 9.063884908186020],
            [9.063884908186020, 11.031239771978300],
            [11.031239771978300, 13.420170678011900],
            [13.420170678011900, 15.387525541804200],
            [15.387525541804200, 17.354880405596500],
            [17.354880405596500, 18.760133879733900],
            [18.760133879733900, 20.305912701285000],
            [20.305912701285000, 22.694843607318500],
            [22.694843607318500, 26.067451945248200],
            [26.067451945248200, 28.596908198695400],
            [28.596908198695400, 30.985839104728900],
            [30.985839104728900, 32.391092578866300],
            [32.391092578866300, 34.358447442658600],
            [34.358447442658600, 37.309479738347100],
            [37.309479738347100, 38.061940349778500],
            [38.061940349778500, 39.698410644380600],
            [39.698410644380600, 41.665765508172900],
            [41.665765508172900, 45.112497836531300],
            [45.112497836531300, 47.567830099549900],
            [47.567830099549900, 49.535184963342200],
            [49.535184963342200, 51.924115869375700],
            [51.924115869375700, 53.891470733168000],
            [53.891470733168000, 55.858825596960300],
            [55.858825596960300, 57.826180460752700],
            [57.826180460752700, 59.793535324545000],
            [59.793535324545000, 61.760890188337300],
            [61.760890188337300, 64.149821094370800],
            [64.149821094370800, 66.117175958163100],
            [66.117175958163100, 68.572508221180400],
        ] as Array<Zone<SagittalComma>>
        expect(actual).toEqual(expected)
    })

    it("Ultra level capture zones check out", () => {
        const extremeLevelJiSymbolIds = computeLevelJiSymbolIds(Level.ULTRA)

        const actual = extremeLevelJiSymbolIds.map(extremeLevelJiSymbolId => {
            const jiSymbol = getJiSymbol(extremeLevelJiSymbolId)

            return computeCaptureZone(jiSymbol, Level.ULTRA)
        })

        const expected = [
            [0.000000000000000, 1.194465453016760],
            [1.194465453016760, 1.756566842671710],
            [1.756566842671710, 2.740244274567870],
            [2.740244274567870, 4.567073790946440],
            [4.567073790946440, 6.534428654738760],
            [6.534428654738760, 7.096530044393700],
            [7.096530044393700, 8.080207476289860],
            [8.080207476289860, 9.063884908186020],
            [9.063884908186020, 11.031239771978300],
            [11.031239771978300, 12.014917203874500],
            [12.014917203874500, 12.436493246115700],
            [12.436493246115700, 13.420170678011900],
            [13.420170678011900, 15.387525541804200],
            [15.387525541804200, 17.354880405596500],
            [17.354880405596500, 18.760133879733900],
            [18.760133879733900, 19.743811311630000],
            [19.743811311630000, 20.305912701285000],
            [20.305912701285000, 22.694843607318500],
            [22.694843607318500, 23.116419649559700],
            [23.116419649559700, 23.955448448755500],
            [23.955448448755500, 24.885981585695500],
            [24.885981585695500, 26.067451945248200],
            [26.067451945248200, 28.596908198695400],
            [28.596908198695400, 30.002161672832800],
            [30.002161672832800, 30.985839104728900],
            [30.985839104728900, 31.407415146970200],
            [31.407415146970200, 32.391092578866300],
            [32.391092578866300, 34.358447442658600],
            [34.358447442658600, 35.118091464366500],
            [35.118091464366500, 36.325802306450900],
            [36.325802306450900, 37.309479738347100],
            [37.309479738347100, 37.871581128002000],
            [37.871581128002000, 38.061940349778500],
            [38.061940349778500, 39.698410644380600],
            [39.698410644380600, 40.260512034035600],
            [40.260512034035600, 41.665765508172900],
            [41.665765508172900, 44.195221761620200],
            [44.195221761620200, 45.112497836531300],
            [45.112497836531300, 47.567830099549900],
            [47.567830099549900, 49.535184963342200],
            [49.535184963342200, 49.956761005583400],
            [49.956761005583400, 51.219540248855700],
            [51.219540248855700, 51.924115869375700],
            [51.924115869375700, 53.891470733168000],
            [53.891470733168000, 55.095545776914000],
            [55.095545776914000, 55.858825596960300],
            [55.858825596960300, 57.826180460752700],
            [57.826180460752700, 58.589460280797900],
            [58.589460280797900, 59.793535324545000],
            [59.793535324545000, 61.760890188337300],
            [61.760890188337300, 62.465465808856200],
            [62.465465808856200, 63.728245052129600],
            [63.728245052129600, 64.149821094370800],
            [64.149821094370800, 66.117175958163100],
            [66.117175958163100, 68.572508221180400],
        ] as Array<Zone<SagittalComma>>
        expect(actual).toEqual(expected)
    })

    it("Extreme level capture zones check out", () => {
        const extremeLevelJiSymbolIds = computeLevelJiSymbolIds(Level.EXTREME)

        const actual = extremeLevelJiSymbolIds.map(extremeLevelJiSymbolId => {
            const jiSymbol = getJiSymbol(extremeLevelJiSymbolId)

            return computeCaptureZone(jiSymbol, Level.EXTREME)
        })

        const expected = [
            [0.000000000000000, 0.210788021120605],
            [0.210788021120605, 0.772889410775552],
            [0.772889410775552, 1.194465453016760],
            [1.194465453016760, 1.756566842671710],
            [1.756566842671710, 2.178142884912920],
            [2.178142884912920, 2.740244274567870],
            [2.740244274567870, 3.161820316809080],
            [3.161820316809080, 3.723921706464020],
            [3.723921706464020, 4.145497748705230],
            [4.145497748705230, 4.567073790946440],
            [4.567073790946440, 5.129175180601390],
            [5.129175180601390, 5.550751222842600],
            [5.550751222842600, 6.112852612497550],
            [6.112852612497550, 6.534428654738760],
            [6.534428654738760, 7.096530044393700],
            [7.096530044393700, 7.518106086634910],
            [7.518106086634910, 8.080207476289860],
            [8.080207476289860, 8.501783518531070],
            [8.501783518531070, 9.063884908186020],
            [9.063884908186020, 9.485460950427230],
            [9.485460950427230, 10.047562340082200],
            [10.047562340082200, 10.469138382323400],
            [10.469138382323400, 11.031239771978300],
            [11.031239771978300, 11.452815814219500],
            [11.452815814219500, 12.014917203874500],
            [12.014917203874500, 12.436493246115700],
            [12.436493246115700, 12.998594635770600],
            [12.998594635770600, 13.420170678011900],
            [13.420170678011900, 13.841746720253100],
            [13.841746720253100, 14.403848109908000],
            [14.403848109908000, 14.825424152149200],
            [14.825424152149200, 15.387525541804200],
            [15.387525541804200, 15.809101584045400],
            [15.809101584045400, 16.371202973700300],
            [16.371202973700300, 16.792779015941500],
            [16.792779015941500, 17.354880405596500],
            [17.354880405596500, 17.776456447837700],
            [17.776456447837700, 18.338557837492600],
            [18.338557837492600, 18.760133879733900],
            [18.760133879733900, 19.322235269388800],
            [19.322235269388800, 19.743811311630000],
            [19.743811311630000, 20.305912701285000],
            [20.305912701285000, 20.727488743526200],
            [20.727488743526200, 21.289590133181100],
            [21.289590133181100, 21.711166175422300],
            [21.711166175422300, 22.132742217663500],
            [22.132742217663500, 22.694843607318500],
            [22.694843607318500, 23.116419649559700],
            [23.116419649559700, 23.678521039214600],
            [23.678521039214600, 23.955448448755500],
            [23.955448448755500, 24.100097081455800],
            [24.100097081455800, 24.662198471110800],
            [24.662198471110800, 24.885981585695500],
            [24.885981585695500, 25.083774513352000],
            [25.083774513352000, 25.645875903007000],
            [25.645875903007000, 26.067451945248200],
            [26.067451945248200, 26.629553334903100],
            [26.629553334903100, 27.051129377144300],
            [27.051129377144300, 27.613230766799300],
            [27.613230766799300, 28.034806809040500],
            [28.034806809040500, 28.596908198695400],
            [28.596908198695400, 29.018484240936600],
            [29.018484240936600, 29.580585630591600],
            [29.580585630591600, 30.002161672832800],
            [30.002161672832800, 30.564263062487700],
            [30.564263062487700, 30.985839104728900],
            [30.985839104728900, 31.407415146970200],
            [31.407415146970200, 31.969516536625100],
            [31.969516536625100, 32.391092578866300],
            [32.391092578866300, 32.953193968521300],
            [32.953193968521300, 33.374770010762500],
            [33.374770010762500, 33.936871400417400],
            [33.936871400417400, 34.358447442658600],
            [34.358447442658600, 34.920548832313600],
            [34.920548832313600, 35.118091464366500],
            [35.118091464366500, 35.342124874554800],
            [35.342124874554800, 35.904226264209700],
            [35.904226264209700, 36.325802306450900],
            [36.325802306450900, 36.887903696105900],
            [36.887903696105900, 37.309479738347100],
            [37.309479738347100, 37.871581128002000],
            [37.871581128002000, 38.061940349778500],
            [38.061940349778500, 38.293157170243300],
            [38.293157170243300, 38.855258559898200],
            [38.855258559898200, 39.276834602139400],
            [39.276834602139400, 39.698410644380600],
            [39.698410644380600, 40.260512034035600],
            [40.260512034035600, 40.682088076276800],
            [40.682088076276800, 41.244189465931700],
            [41.244189465931700, 41.665765508172900],
            [41.665765508172900, 42.227866897827900],
            [42.227866897827900, 42.649442940069100],
            [42.649442940069100, 43.211544329724000],
            [43.211544329724000, 43.633120371965300],
            [43.633120371965300, 44.195221761620200],
            [44.195221761620200, 44.616797803861400],
            [44.616797803861400, 45.112497836531300],
            [45.112497836531300, 45.600475235757600],
            [45.600475235757600, 46.162576625412500],
            [46.162576625412500, 46.584152667653700],
            [46.584152667653700, 47.146254057308700],
            [47.146254057308700, 47.567830099549900],
            [47.567830099549900, 48.129931489204800],
            [48.129931489204800, 48.551507531446000],
            [48.551507531446000, 48.973083573687200],
            [48.973083573687200, 49.535184963342200],
            [49.535184963342200, 49.956761005583400],
            [49.956761005583400, 50.518862395238300],
            [50.518862395238300, 50.940438437479600],
            [50.940438437479600, 51.219540248855700],
            [51.219540248855700, 51.502539827134500],
            [51.502539827134500, 51.924115869375700],
            [51.924115869375700, 52.486217259030700],
            [52.486217259030700, 52.907793301271900],
            [52.907793301271900, 53.469894690926800],
            [53.469894690926800, 53.891470733168000],
            [53.891470733168000, 54.453572122823000],
            [54.453572122823000, 54.875148165064200],
            [54.875148165064200, 55.095545776914000],
            [55.095545776914000, 55.437249554719100],
            [55.437249554719100, 55.858825596960300],
            [55.858825596960300, 56.420926986615300],
            [56.420926986615300, 56.842503028856500],
            [56.842503028856500, 57.264079071097700],
            [57.264079071097700, 57.826180460752700],
            [57.826180460752700, 58.247756502993900],
            [58.247756502993900, 58.589460280797900],
            [58.589460280797900, 58.809857892648800],
            [58.809857892648800, 59.231433934890000],
            [59.231433934890000, 59.793535324545000],
            [59.793535324545000, 60.215111366786200],
            [60.215111366786200, 60.777212756441100],
            [60.777212756441100, 61.198788798682300],
            [61.198788798682300, 61.760890188337300],
            [61.760890188337300, 62.182466230578500],
            [62.182466230578500, 62.465465808856200],
            [62.465465808856200, 62.744567620233400],
            [62.744567620233400, 63.166143662474700],
            [63.166143662474700, 63.728245052129600],
            [63.728245052129600, 64.149821094370800],
            [64.149821094370800, 64.711922484025800],
            [64.711922484025800, 65.133498526267000],
            [65.133498526267000, 65.555074568508200],
            [65.555074568508200, 66.117175958163100],
            [66.117175958163100, 66.538752000404300],
            [66.538752000404300, 67.100853390059300],
            [67.100853390059300, 67.522429432300500],
            [67.522429432300500, 68.084530821955400],
            [68.084530821955400, 68.572508221180400],
        ] as Array<Zone<SagittalComma>>
        expect(actual).toEqual(expected)
    })
})
